# USDT Staking Vault â€“ EDUChain

---

## ğŸ¯ Goals

1. **Increase Stablecoin TVL on EDUChain**
   - Attract USDT/USDC from Arbitrum and other chains.
   - Users mint OCUSD on EDUChain using bridged stables.
   - Restrict OCUSD withdrawals to EDUChain to retain liquidity.

2. **Deliver Sustainable Yield for Stablecoin Holders**
   - Deploy bridged stables into off-chain or L2 strategies.
   - Return yield manually via `REWARDER_ROLE` calls to on-chain vaults.

---

## ğŸ“ Product Concept

Users deposit USDT â†’ mint OCUSD â†’ stake OCUSD â†’ earn yield from externally deployed strategies like USDX.  
Yield is not streamed directly to users, but accumulates in the vault, increasing sOCUSDâ€™s value over time.

- **Minting** can occur on **EDUChain or Arbitrum**
- **Redemption** is only available on **EDUChain**

---

## ğŸ”‘ Key Features

- **OCUSD (ERC20 Stablecoin)**
  - Minted from USDT
  - Redeemable with cooldown
  - Minting restricted to whitelisted stablecoin types (USDT only on Day 1)

- **sOCUSD (ERC4626 Vault Token)**
  - Yield-bearing, capital-appreciating token
  - Cooldown + claim process for redemptions
  - Accumulated rewards reflected in increasing share value

- **Manual Yield Streaming**
  - External yield is deposited to the vault manually via `transferInRewards()`
  - Controlled by `REWARDER_ROLE` (multisig or backend agent)

- **Governance Parameters**
  - Configurable fees
  - Admin/minter role controls
  - Blacklist and pause functionality

- **Async Redemption**
  - Redemptions delayed (e.g. 24h) to prevent oracle mismatch arbitrage and enable backend unwinding of positions

---

## ğŸ§© Strategy Management

### Day 1 Setup
- Use a single yield strategy: **USDX** (requires USDT input)

### Future Flexibility
- Ability to:
  - Add new yield strategies
  - Deprecate or disable old ones
  - Reallocate funds between strategies

### Architecture
- Strategy registry or controller contract
- Strategy interface for plug-and-play backends
- Admin-governed list of active yield sources

### Governance
- Managed via `REWARDER_ROLE` and other role-based permissions
- NAV tracking and strategy enable/disable toggles

---

## ğŸ“‹ Task Overview

### Protocol Review
- âœ… Review USDX, Ethena, and other strategy options
- âœ… Confirm licensing is permissive
- âœ… Validate staking vault logic

### Architecture / Product
- ğŸ”² Finalize chain for redemption (EDUChain vs Arbitrum)
- ğŸ”² UX for cooldown â†’ claim flow
- ğŸ”² Backend integrations with USDX yield

### Smart Contracts
- ğŸ”² ERC20: OCUSD (mintable, burnable)
- ğŸ”² ERC4626: sOCUSD
- ğŸ”² Strategy manager / registry
- ğŸ”² Reward injection logic
- ğŸ”² Cooldown + async claim

### Backend / Admin
- ğŸ”² Manual yield streaming script
- ğŸ”² Strategy monitoring + NAV dashboard
- ğŸ”² Admin dashboard (pause, config)

---

## ğŸ§ª Strategy Fork Comparison

| Protocol | Mintable ERC20 | ERC4626 Vault | Cooldown | Manual Rewards | License | Notes            |
|----------|----------------|---------------|----------|----------------|---------|------------------|
| Ethena   | âœ…             | âœ…            | âœ…       | âœ…             | None    | Proven model     |
| USDX     | âœ…             | âœ…            | âœ…       | âœ…             | None    | Day 1 target     |
| Anzen    | âœ…             | âœ…            | âŒ       | âŒ             | Unknown | Lower control    |
| USDa     | âŒ             | âœ… (sUSDa)    | âœ…       | Partial        | Unknown | Minting gated    |

---

## ğŸ”§ Smart Contract Requirements

### OCUSD (ERC20)

**P0**
- Mintable by whitelisted role
- Burn/redeem logic
- Admin role: pause, blacklist, governance settings

**P1**
- Optional OFT support (LayerZero compatibility)

---

### Minting / Buy Contract

**P0**
- `buy()`, `cooldown()`, `claim()`, `redeem()`
- Configurable fees
- Cooldown timing
- Accept USDT only (USDC excluded on Day 1)

---

### ERC4626 Vault (sOCUSD)

**P0**
- `cooldownAssets()` or `cooldownShares()`
- `claim()` or `unstake()` after delay
- `previewWithdraw()`, `getAmountByShares()`
- `transferInRewards()` callable by `REWARDER_ROLE`
- Governance configurability

---

## ğŸ–¥ï¸ UI/UX Requirements

### Mint / Buy Page

**Inspiration**: USDX, Ethena, Anzen

**Features**
- Input: USDT â†’ Output: OCUSD
- Conversion rates and slippage display
- Wallet + gas estimator
- Transaction preview
- Show â€œMax Slippageâ€ and â€œEst. Gasâ€

---

### Stake Page â€“ sOCUSD

**Features**
- Stake OCUSD â†’ Receive sOCUSD
- Show APY, vault balance, sOCUSD price
- Cooldown + claim UX
- Yield graph or accumulated NAV growth

---

### Collateral / Transparency Page (V2)

**Features**
- OCUSD total collateral
- Yield strategy breakdown (e.g., USDX % exposure)
- Vault NAV and claim buffer
- Multisig yield logs (manual top-ups)

---

## ğŸ”„ User Flow

### USDT Users

1. Deposit USDT  
2. Mint OCUSD (on Arbitrum or EDUChain)  
3. Stake OCUSD â†’ Receive sOCUSD  
4. Yield accumulates over time (auto-compounded into share price)  
5. Initiate cooldown  
6. Claim OCUSD â†’ Withdraw (on EDUChain only)

---

## â± Redemption & Cooldown Logic

- **Minting** can be done on both **Arbitrum and EDUChain**
- **Redemption** must be completed on **EDUChain only**
- Cooldown period: **1 day**
- User initiates `cooldown()`, waits required time
- Calls `claim()` after cooldown period to redeem OCUSD
- Backend can unwind positions or sync oracle pricing in the interim

---

## ğŸ’± Stablecoin Support

- **Day 1**: USDT only  
- **Future**: Optional USDC support via market rate conversion, with exchange rate risk caveats

---

## ğŸ¯ Points System Considerations

- Day 1: Do not design around protocols offering points unless integrated manually
- Future: Consider allowing points tracking via:
  - Yield strategy metadata
  - External integration (Galxe, Dune, CSV export)
- Communicate to users if no points are supported

---

## ğŸ“š References

- [User Journey](https://www.notion.so/USDC-USDT-EDU-Staking-Product-1ab4928fd54f803ba3a7de71db203000?pvs=21)
- [Figma UI](https://www.figma.com/design/xk5z81PtVXToSb7WBqYUrq/EDU-Chain-projects?node-id=264-3195)
- [Legal Brief](https://www.notion.so/EDUChain-Staking-Product-Legal-Brief-1-1fa4928fd54f803fb750e3a587e18ec0?pvs=21)
- [USDX Buy](https://app.usdx.money/buy)

---

## ğŸ“Š Yield Protocol Benchmarks

| Pool           | Project          | TVL     | APY    | 30d Avg |
|----------------|------------------|---------|--------|---------|
| USDC           | AAVE V3          | $43.7M  | 3.62%  | 3.52%   |
| USDT           | Fluid Lending    | $17.6M  | 7.76%  | 7.43%   |
| USDX           | Stables Labs     | $13.3M  | 11.53% | 8.29%   |
| USDC           | Harmonix         | $5.2M   | 19.49% | 16.54%  |
| USDC           | Peapods          | $4.0M   | 49.06% | 59.97%  |

---

## ğŸ§  Notes

- Vault will operate in **manual mode** with **multisig custody** for launch.
- Future upgrade path: automate streaming + yield strategy management.
- Redemption will **not** be instant due to backend unwind requirements and oracle lag.

---

## ğŸ“Œ Final Requirements (Dot Form)

- Minting must be available on EDUChain and Arbitrum  
- Redemption only allowed on EDUChain  
- Redemption must include a cooldown (default: 1 day)  
- Only USDT is supported for minting on Day 1  
- OCUSD must be minted 1:1 against bridged USDT  
- Yield is generated by deploying bridged USDT into external strategies (e.g. USDX)  
- Multisig or backend agent must bridge USDT from **EDUChain to Arbitrum** via Canonical Bridge  
- Manual yield streaming must be supported via `transferInRewards()`  
- Vault must be an ERC4626 implementation (sOCUSD)  
- Vault must reflect yield via capital appreciation (non-rebasing)  
- Users must be able to stake and initiate cooldown via UI  
- Admin must be able to pause mint/redeem  
- Fee support must be configurable  
- Redemption max limit must be enforced  
- Redemption must not be possible during cooldown period  
- All interactions must emit relevant events for frontend tracking
